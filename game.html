<!DOCTYPE html>
<html lang="de">
<head>
    <!-- ========================================= -->
    <!-- GRUNDLEGENDE META-INFORMATIONEN          -->
    <!-- ========================================= -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeopardy Quiz - Oberlinhaus Lehrer Tools</title>
    
    <!-- ========================================= -->
    <!-- SEO & SOCIAL MEDIA META-TAGS             -->
    <!-- ========================================= -->
    <meta name="description" content="Jeopardy Quiz fÃ¼r Azubis - Verschiedene Modi: IT, Lagerlogistik, Custom. Anpassbar fÃ¼r Lehrer!">
    <meta name="keywords" content="Jeopardy, Quiz, Azubi Lernspiel, IT Ausbildung, Lagerlogistik, Oberlinhaus">
    <meta name="author" content="Nico Kaschube">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Jeopardy Quiz - Oberlinhaus">
    <meta property="og:description" content="Interaktives Lernspiel fÃ¼r Azubis - Mehrere Modi verfÃ¼gbar">
    <meta property="og:site_name" content="Jeopardy Quiz">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Jeopardy Quiz - Oberlinhaus">
    <meta property="twitter:description" content="Interaktives Lernspiel fÃ¼r Azubis">
    
    <!-- ========================================= -->
    <!-- PWA MANIFEST (ohne Icons)                -->
    <!-- ========================================= -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Jeopardy Quiz">
    
    <!-- ========================================= -->
    <!-- PERFORMANCE & RESOURCE HINTS             -->
    <!-- ========================================= -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    
    <!-- ========================================= -->
    <!-- STYLES                                    -->
    <!-- ========================================= -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- ========================================= -->
    <!-- PWA SERVICE WORKER REGISTRATION          -->
    <!-- ========================================= -->
    <script>
        // ğŸš€ Service Worker fÃ¼r PWA-FunktionalitÃ¤t registrieren
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('./sw.js');
                    console.log('âœ… Service Worker registriert:', registration.scope);
                } catch (error) {
                    console.error('âŒ Service Worker Fehler:', error);
                }
            });
        }
    </script>
</head>
<body>
    <!-- Mode Selection Screen (NEW) -->
    <div id="modeSelectionScreen" class="mode-selection-screen">
        <div class="mode-selection-container">
            <h1 class="mode-title">WÃ¤hle einen Spielmodus ğŸ®</h1>
            <p class="mode-subtitle">Verschiedene Themenbereiche fÃ¼r dein Quiz-Erlebnis</p>
            <p class="mode-developer" style="text-align: center; color: #9d4edd; margin-top: 10px; font-size: 0.9rem;">Entwickelt von Nico Kaschube, Azubi zum Fachinformatiker fÃ¼r IT-Systemelektroniker</p>
            
            <div class="mode-cards">
                <!-- IT Mode -->
                <div class="mode-card" data-mode="it">
                    <div class="mode-card-icon">ğŸ’»</div>
                    <h3 class="mode-card-title">IT-Modus</h3>
                    <p class="mode-card-desc">Fragen zu IT-Grundlagen, Hardware, Software, Netzwerke und IT-Sicherheit</p>
                    <button class="mode-select-btn" data-mode="it">IT-Modus wÃ¤hlen</button>
                </div>
                
                <!-- Lagerlogistik Mode -->
                <div class="mode-card" data-mode="lagerlogistik">
                    <div class="mode-card-icon">ğŸ“¦</div>
                    <h3 class="mode-card-title">Lagerlogistik-Modus</h3>
                    <p class="mode-card-desc">Fragen zu Lagerwirtschaft, Transport, Sicherheit und Warenwirtschaft</p>
                    <button class="mode-select-btn" data-mode="lagerlogistik">Lagerlogistik wÃ¤hlen</button>
                </div>
                
                <!-- Standard Mode -->
                <div class="mode-card" data-mode="standard">
                    <div class="mode-card-icon">ğŸ¯</div>
                    <h3 class="mode-card-title">Standard-Modus</h3>
                    <p class="mode-card-desc">Allgemeine Wissensfragen ohne berufsspezifischen Fokus - fÃ¼r alle geeignet</p>
                    <button class="mode-select-btn" data-mode="standard">Standard-Modus wÃ¤hlen</button>
                </div>
                
                <!-- KaufmÃ¤nnisch Mode -->
                <div class="mode-card" data-mode="kaufmaennisch">
                    <div class="mode-card-icon">ğŸ’¼</div>
                    <h3 class="mode-card-title">KaufmÃ¤nnischer Modus</h3>
                    <p class="mode-card-desc">Fragen zu BÃ¼rokaufmann, Verwaltung, Rechnungswesen und GeschÃ¤ftsprozessen</p>
                    <button class="mode-select-btn" data-mode="kaufmaennisch">KaufmÃ¤nnisch wÃ¤hlen</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Setup Screen -->
    <div id="setupScreen" class="setup-screen hidden">
        <div class="setup-container">
            <h1 class="setup-title">Jeopardy Spiel</h1>
            <div class="setup-subtitle">
                <span class="developer-badge">ğŸ‘¨â€ğŸ’» Entwickelt von Nico Kaschube</span>
            </div>
            
            <!-- Theme and Settings Panel -->
            <div class="settings-panel">
                <div class="settings-row">
                    <div class="setting-group">
                        <label for="themeSelect">ğŸ¨ Design-Theme:</label>
                        <select id="themeSelect" class="theme-select">
                            <option value="purple-blue">Lila-Blau (Standard)</option>
                            <option value="ocean-blue">Ozean-Blau</option>
                            <option value="green-silver">GrÃ¼n-Silber</option>
                            <option value="dark-mode">Dark Mode</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="soundToggle">ğŸ”Š Sound-Effekte:</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    

                    <div class="setting-group">
                        <label for="dailyDoublesToggle">ğŸ’° Daily Doubles:</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="dailyDoublesToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <div class="settings-row">
                    <div class="setting-group">
                        <label for="animationToggle">âœ¨ Animationen:</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="animationToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label for="timerToggle">â° Timer aktivieren:</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="timerToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-group timer-config" id="timerConfig" style="display: none;">
                        <label for="timerDuration">ğŸ• Zeit pro Frage:</label>
                        <div class="timer-controls">
                            <input type="range" id="timerDuration" min="15" max="120" value="60" step="5" class="timer-slider">
                            <span id="timerDisplay" class="timer-display">60 Sekunden</span>
                        </div>
                        <div class="timer-presets">
                            <button type="button" class="preset-btn" data-time="30">30s</button>
                            <button type="button" class="preset-btn" data-time="60">60s</button>
                            <button type="button" class="preset-btn active" data-time="90">90s</button>
                            <button type="button" class="preset-btn" data-time="120">120s</button>
                        </div>
                    </div>
                </div>
                <div class="settings-row settings-actions">
                    <button id="showRulesBtn" class="settings-action-btn rules-btn">ğŸ“‹ Spielregeln</button>
                    <button id="openEditorBtn" class="settings-action-btn editor-btn" style="display: none;">âœï¸ Fragen bearbeiten</button>
                    <button id="openStatsBtn" class="settings-action-btn stats-btn" style="display: none;">ğŸ“Š Statistiken</button>
                    <button id="openFeedbackBtn" class="settings-action-btn feedback-btn">ğŸ’¬ Feedback & Bug Report</button>
                </div>
                <div class="settings-row auth-section">
                    <div class="auth-display">
                        <span id="userDisplay" style="display: none;">ğŸ‘¤ Gast</span>
                        <button id="loginBtn" class="settings-action-btn login-btn">ğŸ” Anmelden</button>
                        <button id="logoutBtn" class="settings-action-btn logout-btn" style="display: none;">ğŸšª Abmelden</button>
                    </div>
                </div>
            </div>

            <div class="setup-content">
                <div class="game-mode-selection">
                    <h2>Spielmodus wÃ¤hlen</h2>
                    <div class="mode-buttons">
                        <button class="mode-btn" data-mode="single">Einzelspieler</button>
                        <button class="mode-btn" data-mode="group">Gruppenspieler</button>
                    </div>
                </div>

                <div id="playerSetup" class="player-setup hidden">
                    <h3 id="setupTitle">Spieler hinzufÃ¼gen</h3>
                    <div id="singlePlayerSetup" class="setup-section hidden">
                        <label for="playerCount">Anzahl Spieler (2-6):</label>
                        <input type="number" id="playerCount" min="2" max="6" value="2">
                        <div id="playerNames">
                            <input type="text" class="player-name" placeholder="Spieler 1 Name" value="Spieler 1">
                            <input type="text" class="player-name" placeholder="Spieler 2 Name" value="Spieler 2">
                        </div>
                    </div>

                    <div id="groupPlayerSetup" class="setup-section hidden">
                        <label for="groupCount">Anzahl Gruppen (2-4):</label>
                        <input type="number" id="groupCount" min="2" max="4" value="2">
                        <label for="membersPerGroup">Mitglieder pro Gruppe (1-5):</label>
                        <input type="number" id="membersPerGroup" min="1" max="5" value="2">
                        <div id="groupNames">
                            <input type="text" class="group-name" placeholder="Gruppe 1 Name" value="Team Alpha">
                            <input type="text" class="group-name" placeholder="Gruppe 2 Name" value="Team Beta">
                        </div>
                    </div>

                    <div class="setup-buttons">
                        <button id="startGame" class="start-btn">Spiel starten</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Editor Screen -->
    <div id="editorScreen" class="editor-screen hidden">
        <div class="editor-container">
            <div class="editor-header">
                <h1>ğŸ“ Fragen-Editor fÃ¼r Lehrer</h1>
                <p class="editor-subtitle">Erstelle und bearbeite deine eigenen Jeopardy-Kategorien und Fragen</p>
                <div class="editor-search-bar">
                    <input type="text" id="editorSearchInput" placeholder="ğŸ” Fragen durchsuchen..." class="editor-search-input">
                    <span id="searchResultCount" class="search-result-count"></span>
                </div>
                <div class="editor-actions">
                    <button id="saveQuestionsBtn" class="btn-save">ğŸ’¾ Speichern</button>
                    <button id="resetQuestionsBtn" class="btn-reset">ğŸ”„ ZurÃ¼cksetzen</button>
                    <button id="importQuestionsBtn" class="btn-import">ğŸ“¥ Importieren</button>
                    <button id="exportQuestionsBtn" class="btn-export">ğŸ“¤ Exportieren</button>
                    <button id="closeEditorBtn" class="btn-close">âœ–ï¸ SchlieÃŸen</button>
                </div>
            </div>

            <div class="editor-content">
                <!-- Categories Overview -->
                <div class="categories-section">
                    <div class="section-header">
                        <h2>Kategorien</h2>
                        <button id="addCategoryBtn" class="btn-add">+ Neue Kategorie</button>
                    </div>
                    <div id="categoriesList" class="categories-list">
                        <!-- Categories will be dynamically added here -->
                    </div>
                </div>

                <!-- Questions Editor -->
                <div class="questions-section">
                    <div class="section-header">
                        <h2 id="currentCategoryTitle">Fragen</h2>
                        <span id="questionCounter" class="question-counter">0 / 20 Fragen</span>
                    </div>
                    <div id="questionsEditor" class="questions-editor">
                        <div class="editor-placeholder">
                            <p>ğŸ‘ˆ WÃ¤hle eine Kategorie aus, um Fragen zu bearbeiten</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Import/Export Modal -->
        <div id="importExportModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="importExportTitle">Import/Export</h3>
                    <button class="modal-close-btn" id="closeImportExportBtn">âœ–ï¸</button>
                </div>
                <div class="modal-body">
                    <textarea id="importExportData" class="import-export-textarea" placeholder="JSON-Daten hier einfÃ¼gen..."></textarea>
                </div>
                <div class="modal-footer">
                    <button id="confirmImportBtn" class="modal-btn hidden">Importieren</button>
                    <button id="copyExportBtn" class="modal-btn hidden">Kopieren</button>
                    <button id="cancelImportExportBtn" class="modal-btn-secondary">Abbrechen</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback & Bug Report Modal -->
    <div id="feedbackModal" class="modal hidden">
        <div class="modal-content feedback-modal-content">
            <div class="modal-header">
                <h3>ğŸ’¬ Feedback & Bug Report</h3>
                <button class="modal-close-btn" id="closeFeedbackBtn">âœ–ï¸</button>
            </div>
            <div class="modal-body">
                <form id="feedbackForm" class="feedback-form">
                    <div class="form-group">
                        <label for="feedbackName">Name (optional):</label>
                        <input type="text" id="feedbackName" placeholder="Dein Name oder 'Anonym'...">
                    </div>
                    
                    <div class="form-group">
                        <label for="feedbackType">Typ: *</label>
                        <select id="feedbackType" required>
                            <option value="">-- Bitte wÃ¤hlen --</option>
                            <option value="bug">ï¿½ Bug melden (Fehler im Spiel)</option>
                            <option value="feedback">ï¿½ Verbesserungsvorschlag</option>
                            <option value="feature">âœ¨ Neue Funktion vorschlagen</option>
                            <option value="question">â“ Frage / Unklarheit</option>
                            <option value="other">ğŸ“ Sonstiges</option>
                        </select>
                    </div>

                    <div class="form-group" id="priorityGroup" style="display: none;">
                        <label for="bugPriority">Dringlichkeit: *</label>
                        <select id="bugPriority">
                            <option value="low">ğŸŸ¢ Niedrig - Kosmetischer Fehler</option>
                            <option value="medium" selected>ğŸŸ¡ Mittel - Funktion eingeschrÃ¤nkt</option>
                            <option value="high">ğŸŸ  Hoch - Funktion nicht nutzbar</option>
                            <option value="critical">ğŸ”´ Kritisch - Spiel crasht/blockiert</option>
                        </select>
                    </div>

                    <div class="form-group" id="categoryGroup" style="display: none;">
                        <label for="bugCategory">Bereich: *</label>
                        <select id="bugCategory">
                            <option value="">-- Bitte wÃ¤hlen --</option>
                            <option value="spielbrett">ğŸ® Spielbrett / Kategorien</option>
                            <option value="fragen">â“ Fragen / Antworten</option>
                            <option value="punkte">ğŸ“Š Punkte / Punktestand</option>
                            <option value="daily-double">ğŸ’° Daily Double</option>
                            <option value="timer">â±ï¸ Timer</option>
                            <option value="sounds">ğŸ”Š Sounds / Audio</option>
                            <option value="design">ğŸ¨ Design / Layout</option>
                            <option value="editor">âœï¸ Fragen-Editor</option>
                            <option value="settings">âš™ï¸ Einstellungen</option>
                            <option value="other">ğŸ”§ Anderer Bereich</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="feedbackDescription">Beschreibung: *</label>
                        <textarea 
                            id="feedbackDescription" 
                            placeholder="Beschreibe dein Anliegen so detailliert wie mÃ¶glich...&#10;&#10;ğŸ“Œ Bei Bugs hilfreich:&#10;â€¢ Was hast du gemacht? (Schritte zum Problem)&#10;â€¢ Was sollte passieren?&#10;â€¢ Was ist stattdessen passiert?&#10;â€¢ Tritt der Fehler immer auf oder nur manchmal?" 
                            rows="10"
                            maxlength="1500"
                            required
                        ></textarea>
                        <span class="char-counter" id="charCounter">0 / 1500 Zeichen</span>
                    </div>

                    <div class="form-group" id="stepsGroup" style="display: none;">
                        <label for="bugSteps">Schritte zum Reproduzieren (optional):</label>
                        <textarea 
                            id="bugSteps" 
                            placeholder="1. Klicke auf...&#10;2. WÃ¤hle...&#10;3. Dann passiert..." 
                            rows="4"
                            maxlength="500"
                        ></textarea>
                    </div>

                    <div class="feedback-info">
                        <p>â„¹ï¸ <strong>Dein Feedback hilft, das Spiel zu verbessern!</strong></p>
                        <p style="font-size: 0.85rem; color: var(--text-secondary);">
                            ğŸ“± Technische Infos (Browser, System) werden automatisch mitgesendet.<br>
                            ğŸ”’ Deine Daten werden nur zur Verbesserung genutzt.
                        </p>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="submitFeedbackBtn" class="modal-btn btn-primary">ğŸ“¤ Feedback senden</button>
                <button type="button" id="cancelFeedbackBtn" class="modal-btn-secondary">Abbrechen</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content login-modal-content">
            <div class="modal-header">
                <h3>ğŸ” Anmelden</h3>
                <button class="modal-close-btn" id="closeLoginBtn">âœ–ï¸</button>
            </div>
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Anmelden</button>
                    <button class="auth-tab" data-tab="register">Registrieren</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginUsername">Benutzername:</label>
                        <input type="text" id="loginUsername" placeholder="Dein Benutzername" required autocomplete="username">
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Passwort:</label>
                        <input type="password" id="loginPassword" placeholder="Dein Passwort" required autocomplete="current-password">
                    </div>

                    <div class="auth-info">
                        <p>â„¹ï¸ <strong>Standard-ZugÃ¤nge fÃ¼r Tests:</strong></p>
                        <p style="font-size: 0.85rem; color: var(--text-secondary);">
                            ğŸ‘¨â€ğŸ’¼ <strong>Admin:</strong> admin / admin123<br>
                            ğŸ‘¨â€ğŸ« <strong>Lehrer:</strong> lehrer / lehrer123
                        </p>
                    </div>

                    <div id="loginError" class="auth-error" style="display: none;"></div>
                    <div id="loginSuccess" class="auth-success" style="display: none;"></div>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="registerUsername">Benutzername:</label>
                        <input type="text" id="registerUsername" placeholder="Min. 3 Zeichen" required autocomplete="username">
                    </div>
                    
                    <div class="form-group">
                        <label for="registerPassword">Passwort:</label>
                        <input type="password" id="registerPassword" placeholder="Min. 6 Zeichen" required autocomplete="new-password">
                    </div>

                    <div class="form-group">
                        <label for="registerPasswordConfirm">Passwort bestÃ¤tigen:</label>
                        <input type="password" id="registerPasswordConfirm" placeholder="Passwort wiederholen" required autocomplete="new-password">
                    </div>

                    <div class="auth-info">
                        <p style="font-size: 0.85rem; color: var(--text-secondary);">
                            â„¹ï¸ Neue Accounts haben standardmÃ¤ÃŸig <strong>Gast-Rechte</strong>.<br>
                            FÃ¼r Lehrer/Admin-Rechte kontaktiere einen Administrator.
                        </p>
                    </div>

                    <div id="registerError" class="auth-error" style="display: none;"></div>
                    <div id="registerSuccess" class="auth-success" style="display: none;"></div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="submitLoginBtn" class="modal-btn btn-primary">ğŸ”“ Anmelden</button>
                <button type="button" id="submitRegisterBtn" class="modal-btn btn-primary" style="display: none;">âœ… Registrieren</button>
                <button type="button" id="cancelLoginBtn" class="modal-btn-secondary">Abbrechen</button>
            </div>
        </div>
    </div>

    <!-- Statistics Modal -->
    <div id="statsModal" class="modal hidden">
        <div class="modal-content stats-modal-content">
            <div class="modal-header">
                <h3>ğŸ“Š Statistiken & Analytics</h3>
                <button class="modal-close-btn" id="closeStatsBtn">âœ–ï¸</button>
            </div>
            <div class="modal-body">
                <div class="stats-tabs">
                    <button class="stats-tab active" data-tab="questions">â“ Fragen</button>
                    <button class="stats-tab" data-tab="categories">ğŸ“‚ Kategorien</button>
                    <button class="stats-tab" data-tab="overall">ğŸ“ˆ Gesamt</button>
                </div>

                <!-- Questions Tab -->
                <div class="stats-content active" id="questionsTab">
                    <div class="stats-section">
                        <h4>ğŸ”¥ Schwierigste Fragen (Top 10)</h4>
                        <div id="difficultQuestionsTable" class="stats-table">
                            <p class="stats-empty">Noch keine Daten verfÃ¼gbar. Spiele zuerst einige Runden!</p>
                        </div>
                    </div>
                </div>

                <!-- Categories Tab -->
                <div class="stats-content" id="categoriesTab">
                    <div class="stats-section">
                        <h4>ğŸ“‚ Performance nach Kategorie</h4>
                        <div id="categoryPerformanceChart" class="stats-chart">
                            <p class="stats-empty">Noch keine Daten verfÃ¼gbar.</p>
                        </div>
                    </div>
                </div>

                <!-- Overall Tab -->
                <div class="stats-content" id="overallTab">
                    <div class="stats-section">
                        <h4>ğŸ“Š Gesamtstatistik</h4>
                        <div id="overallStatsGrid" class="stats-grid">
                            <p class="stats-empty">Noch keine Daten verfÃ¼gbar.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="exportStatsBtn" class="modal-btn btn-primary">ğŸ“¤ Exportieren (JSON)</button>
                <button type="button" id="clearStatsBtn" class="modal-btn-danger">ğŸ—‘ï¸ Statistiken lÃ¶schen</button>
                <button type="button" id="closeStatsModalBtn" class="modal-btn-secondary">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="game-screen hidden">
        <!-- Header with Players/Groups -->
        <div class="game-header">
            <div class="players-container" id="playersContainer"></div>
            <div class="game-info">
                <div class="current-player">
                    Aktueller Spieler: <span id="currentPlayerName">Spieler 1</span>
                </div>
                <div class="game-stats">
                    <span class="stat-item">Fragen: <span id="questionsAnswered">0</span>/25</span>
                    <span class="stat-item">Streak: <span id="currentStreak">0</span></span>
                </div>
                <div class="quick-actions">
                    <button id="pauseGameBtn" class="quick-action-btn" title="Spiel pausieren">â¸ï¸</button>
                    <button id="fullscreenBtn" class="quick-action-btn" title="Vollbild">ğŸ”³</button>
                    <button id="helpBtn" class="quick-action-btn" title="Hilfe & Shortcuts">â“</button>
                </div>
                <button id="nextRoundBtn" class="next-round-btn hidden">NÃ¤chste Runde</button>
                <button id="endGameBtn" class="end-game-btn">Spiel beenden</button>
                <button id="showStatsBtn" class="stats-btn">ğŸ“Š Statistiken</button>
            </div>
        </div>

        <!-- Jeopardy Board -->
        <div class="jeopardy-board">
            <div class="categories-row">
                <div class="category" data-category="0">
                    <span class="category-title">Kategorie 1</span>
                </div>
                <div class="category" data-category="1">
                    <span class="category-title">Kategorie 2</span>
                </div>
                <div class="category" data-category="2">
                    <span class="category-title">Kategorie 3</span>
                </div>
                <div class="category" data-category="3">
                    <span class="category-title">Kategorie 4</span>
                </div>
                <div class="category" data-category="4">
                    <span class="category-title">Kategorie 5</span>
                </div>
            </div>

            <div class="questions-grid" id="questionsGrid">
                <!-- Questions will be generated dynamically -->
            </div>
        </div>
    </div>

    <!-- Question Modal -->
    <div id="questionModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalCategory">Kategorie</h3>
                <div class="modal-points-container">
                    <span id="modalPoints" class="modal-points">100</span>
                    <div id="timerRing" class="timer-ring hidden">
                        <svg class="timer-svg" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" class="timer-circle-bg"></circle>
                            <circle cx="50" cy="50" r="45" class="timer-circle-progress" id="timerCircle"></circle>
                        </svg>
                        <div class="timer-text" id="timerText">60</div>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <p id="modalQuestion">Frage wird hier angezeigt...</p>
                <div class="modal-answer hidden">
                    <p><strong>Antwort:</strong> <span id="modalAnswerText">Antwort wird hier angezeigt...</span></p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="showAnswerBtn" class="modal-btn show-answer-btn">Antwort zeigen</button>
                <div id="answerButtons" class="answer-buttons hidden">
                    <button id="correctBtn" class="modal-btn correct-btn">Richtig (+Punkte)</button>
                    <button id="wrongBtn" class="modal-btn wrong-btn">Falsch (-Punkte)</button>
                </div>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Winner Modal -->
    <div id="winnerModal" class="modal hidden">
        <div class="modal-content winner-content">
            <div class="modal-header">
                <h2>ğŸ† Spiel beendet! ğŸ†</h2>
            </div>
            <div class="modal-body">
                <div id="confetti-container" class="confetti-container"></div>
                <div id="finalResults" class="final-results"></div>
                <div id="winnerAnnouncement" class="winner-announcement"></div>
                <div id="gameStatsSummary" class="game-stats-summary"></div>
            </div>
            <div class="modal-footer">
                <button id="newGameBtn" class="modal-btn new-game-btn">Neues Spiel</button>
                <button id="backToSetupBtn" class="modal-btn back-setup-btn">ZurÃ¼ck zum Setup</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Daily Double Modal -->
    <div id="dailyDoubleModal" class="modal hidden">
        <div class="modal-content daily-double-content">
            <div class="modal-header daily-double-header">
                <h2>ğŸ¯ DAILY DOUBLE! ğŸ¯</h2>
            </div>
            <div class="modal-body">
                <p class="daily-double-text">Du hast ein Daily Double gefunden!</p>
                <p class="daily-double-info">Kategorie: <span id="ddCategory">Geschichte</span></p>
                <p class="daily-double-info">Aktueller Punktestand: <span id="ddCurrentScore">500</span></p>
                
                <div class="wager-section">
                    <label for="wagerAmount">ğŸ’° Dein Einsatz:</label>
                    <div class="wager-controls">
                        <input type="number" id="wagerAmount" class="wager-input" min="100" max="1000" value="500" step="100">
                        <div class="wager-buttons">
                            <button class="wager-btn" data-amount="100">100</button>
                            <button class="wager-btn" data-amount="500">500</button>
                            <button class="wager-btn" data-amount="1000">1000</button>
                            <button class="wager-btn" id="allInBtn">Alles!</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirmWagerBtn" class="modal-btn confirm-wager-btn">Einsatz bestÃ¤tigen</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Audio Elements -->
    <div id="audioElements" class="hidden">
        <audio id="themeSound" preload="auto">
            <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADAAA" type="audio/mpeg">
        </audio>
        <audio id="clickSound" preload="auto"></audio>
        <audio id="correctSound" preload="auto"></audio>
        <audio id="wrongSound" preload="auto"></audio>
        <audio id="winnerSound" preload="auto"></audio>
        <audio id="dailyDoubleSound" preload="auto"></audio>
    </div>

    <!-- Statistics Modal -->
    <div id="statisticsModal" class="modal hidden">
        <div class="modal-content stats-content">
            <div class="modal-header">
                <h2>ğŸ“Š Spieler-Statistiken</h2>
            </div>
            <div class="modal-body">
                <div id="playerStatsContainer" class="player-stats-container"></div>
            </div>
            <div class="modal-footer">
                <button id="closeStatsBtn" class="modal-btn close-stats-btn">SchlieÃŸen</button>
                <button id="resetStatsBtn" class="modal-btn reset-stats-btn">Statistiken zurÃ¼cksetzen</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Point Animation Container -->
    <div id="pointAnimationContainer" class="point-animation-container"></div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal hidden">
        <div class="modal-content help-content">
            <div class="modal-header">
                <h2>ğŸ® Hilfe & Tastatur-Shortcuts</h2>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>ğŸ¯ Spielregeln</h3>
                    <ul>
                        <li><strong>Punkte:</strong> Richtige Antworten = +Punkte, Falsche = -Punkte</li>
                        <li><strong>Daily Doubles:</strong> Setze deinen eigenen Einsatz (ğŸ’°-Symbol)</li>
                        <li><strong>Spielerwechsel:</strong> Bei falschen Antworten wechselt der Spieler</li>
                        <li><strong>Gewinner:</strong> HÃ¶chste Punktzahl am Ende gewinnt</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>âŒ¨ï¸ Keyboard-Shortcuts</h3>
                    <div class="shortcuts-grid">
                        <div class="shortcut-item"><kbd>Space</kbd> Antwort zeigen</div>
                        <div class="shortcut-item"><kbd>R</kbd> Richtig</div>
                        <div class="shortcut-item"><kbd>F</kbd> Falsch</div>
                        <div class="shortcut-item"><kbd>Esc</kbd> Modal schlieÃŸen</div>
                        <div class="shortcut-item"><kbd>S</kbd> Statistiken</div>
                        <div class="shortcut-item"><kbd>F11</kbd> Vollbild</div>
                    </div>
                </div>
                <div class="help-section">
                    <h3>ğŸ“± Touch-Gesten</h3>
                    <ul>
                        <li><strong>Wisch nach oben:</strong> Statistiken Ã¶ffnen</li>
                        <li><strong>Wisch nach unten:</strong> Modal schlieÃŸen</li>
                        <li><strong>Doppeltipp:</strong> Schnell-Aktionen</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeHelpBtn" class="modal-btn close-help-btn">Verstanden! ğŸ‘</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Pause Overlay -->
    <div id="pauseOverlay" class="pause-overlay hidden">
        <div class="pause-content">
            <h2>â¸ï¸ Spiel pausiert</h2>
            <p>DrÃ¼cke einen beliebigen Button um fortzufahren</p>
            <button id="resumeGameBtn" class="modal-btn resume-btn">Fortsetzen</button>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rulesModal" class="modal hidden">
        <div class="modal-content rules-modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ Jeopardy Spielregeln</h2>
                <button class="modal-close" id="closeRulesBtn">Ã—</button>
            </div>
            <div class="modal-body rules-body">
                <div class="rules-section">
                    <h3>ğŸ¯ Spielziel</h3>
                    <p>Beantworte Fragen richtig und sammle die meisten Punkte! Der Spieler oder die Gruppe mit den meisten Punkten gewinnt.</p>
                </div>

                <div class="rules-section">
                    <h3>ğŸ® Spielablauf</h3>
                    <ol>
                        <li><strong>Kategorien wÃ¤hlen:</strong> Es gibt 5 IT-Kategorien mit je 5 Fragen</li>
                        <li><strong>Punkte-System:</strong> Fragen sind 100, 200, 300, 400 und 500 Punkte wert</li>
                        <li><strong>Fragen wÃ¤hlen:</strong> Der aktuelle Spieler wÃ¤hlt eine Kategorie und Punktzahl</li>
                        <li><strong>Antworten:</strong> Die Frage wird vorgelesen - jeder kann antworten</li>
                        <li><strong>Bewertung:</strong> Richtige Antwort = Punkte dazu, falsche Antwort = Punkte weg</li>
                        <li><strong>Spielerwechsel:</strong> Bei falscher Antwort ist der nÃ¤chste Spieler dran</li>
                    </ol>
                </div>

                <div class="rules-section">
                    <h3>â° Timer-Regeln</h3>
                    <ul>
                        <li>Jede Frage hat ein <strong>Zeitlimit</strong> (standardmÃ¤ÃŸig 90 Sekunden)</li>
                        <li>Zeit lÃ¤uft ab dem Vorlesen der Frage</li>
                        <li>Bei ZeitÃ¼berschreitung gilt die Antwort als <strong>falsch</strong></li>
                        <li>Timer kann in den Einstellungen angepasst oder deaktiviert werden</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>ğŸ’° Punkte-System</h3>
                    <ul>
                        <li><strong>Richtige Antwort:</strong> Volle Punktzahl zur Gesamtpunktzahl dazu</li>
                        <li><strong>Falsche Antwort:</strong> Volle Punktzahl von Gesamtpunktzahl abgezogen</li>
                        <li><strong>Negative Punkte sind mÃ¶glich!</strong> Pass auf bei schweren Fragen</li>
                        <li>Am Ende gewinnt der Spieler/die Gruppe mit den <strong>meisten Punkten</strong></li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>ğŸ² Daily Double (Spezial)</h3>
                    <p>Falls aktiviert: Bei manchen Fragen kannst du deinen <strong>Einsatz verdoppeln</strong>!</p>
                    <ul>
                        <li>Du kannst einen beliebigen Betrag setzen (bis zu deiner aktuellen Punktzahl)</li>
                        <li>Bei richtiger Antwort: <strong>Doppelte Punkte!</strong></li>
                        <li>Bei falscher Antwort: <strong>Doppelter Verlust!</strong></li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>ğŸ‘¥ Spielmodi</h3>
                    <div class="game-modes">
                        <div class="mode-info">
                            <h4>ğŸ§‘ Einzelspieler</h4>
                            <p>2-6 einzelne Spieler treten gegeneinander an</p>
                        </div>
                        <div class="mode-info">
                            <h4>ğŸ‘« Gruppenspieler</h4>
                            <p>2-4 Teams mit mehreren Mitgliedern pro Gruppe</p>
                        </div>
                    </div>
                </div>

                <div class="rules-section">
                    <h3>ğŸ† Gewinnbedingungen</h3>
                    <p>Das Spiel endet wenn <strong>alle 25 Fragen</strong> (5 Kategorien Ã— 5 Fragen) beantwortet wurden.</p>
                    <p>Der Spieler oder die Gruppe mit den <strong>meisten Punkten gewinnt!</strong></p>
                </div>

                <div class="rules-section tips-section">
                    <h3>ğŸ’¡ Taktik-Tipps</h3>
                    <ul>
                        <li><strong>Beginne mit niedrigen Punktzahlen</strong> um dich warmzuspielen</li>
                        <li><strong>Kenne deine StÃ¤rken:</strong> WÃ¤hle Kategorien die du gut kannst</li>
                        <li><strong>Vorsicht bei hohen Punktzahlen:</strong> GroÃŸer Gewinn, aber auch groÃŸes Risiko</li>
                        <li><strong>Beobachte die Konkurrenz:</strong> Wer liegt vorne? Wer ist schwach?</li>
                        <li><strong>Nutze Daily Doubles klug:</strong> Nur setzen wenn du sicher bist!</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeRulesBtn2" class="modal-btn">Alles klar - lass uns spielen! ğŸš€</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Achievement Notifications -->
    <div id="achievementContainer" class="achievement-container"></div>

    <!-- Footer -->
    <footer class="game-footer">
        <div class="footer-content">
            <div class="developer-credit">
                <span class="footer-icon">âš¡</span>
                <span class="footer-text">Entwickelt von <strong>Nico Kaschube</strong> â€¢ 2025</span>
                <span class="footer-icon">ğŸ®</span>
            </div>
        </div>
    </footer>

    <!-- ========================================= -->
    <!-- JAVASCRIPT DATEIEN - MODULARE STRUKTUR  -->
    <!-- ========================================= -->
    
    <!-- ğŸ§± Core Module zuerst laden -->
    <script src="modules.js"></script>
    
    <!-- ğŸµ Sound System -->
    <script src="sounds.js"></script>
    
    <!-- â“ Fragen-Datenbank werden dynamisch geladen basierend auf Modus -->
    
    <!-- ğŸ” Authentication System -->
    <script src="auth.js"></script>
    <script src="auth-ui.js"></script>
    
    <!-- ï¿½ Fragen-Editor -->
    <script src="editor.js"></script>
    
    <!-- ğŸ“Š Question Stats -->
    <script src="stats.js"></script>
    
    <!-- ğŸ’¬ Feedback System -->
    <script src="feedback.js"></script>
    
    <!-- ğŸ® Hauptspiel-Logik (muss zuletzt geladen werden) -->
    <script src="script.js"></script>
    
    <!-- ========================================= -->
    <!-- MODE SELECTION LOGIC                     -->
    <!-- ========================================= -->
    <script>
        // ğŸ¯ Globale Variable fÃ¼r aktuellen Modus
        let currentGameMode = null;
        let questionsLoaded = false;
        
        // ğŸ® Modus-Auswahl Handler
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ® Jeopardy Quiz - Modus-Auswahl initialisiert');
            
            // Modus-Auswahl Event Listener
            const modeButtons = document.querySelectorAll('.mode-select-btn');
            modeButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const mode = this.dataset.mode;
                    selectGameMode(mode);
                });
            });
        });
        
        // ğŸ“¦ Modus auswÃ¤hlen und Fragen laden
        function selectGameMode(mode) {
            currentGameMode = mode;
            console.log(`ğŸ¯ Modus gewÃ¤hlt: ${mode}`);
            
            // Lade entsprechende Fragen-Datei
            loadQuestionsForMode(mode).then(() => {
                // Verstecke Modus-Auswahl, zeige Setup
                document.getElementById('modeSelectionScreen').classList.add('hidden');
                document.getElementById('setupScreen').classList.remove('hidden');
                questionsLoaded = true;
            }).catch(error => {
                console.error('âŒ Fehler beim Laden der Fragen:', error);
                alert(error);
            });
        }
        
        // ğŸ“¥ Fragen fÃ¼r Modus laden
        function loadQuestionsForMode(mode) {
            return new Promise((resolve, reject) => {
                // Lade externe Datei basierend auf Modus
                const script = document.createElement('script');
                let filename;
                
                switch(mode) {
                    case 'it':
                        filename = 'questions_it.js';
                        break;
                    case 'lagerlogistik':
                        filename = 'questions_lagerlogistik.js';
                        break;
                    case 'standard':
                        filename = 'questions_standard.js';
                        break;
                    case 'kaufmaennisch':
                        filename = 'questions_kaufmaennisch.js';
                        break;
                    default:
                        reject(`Unbekannter Modus: ${mode}`);
                        return;
                }
                
                script.src = filename;
                script.onload = () => {
                    console.log(`âœ… ${filename} geladen`);
                    resolve();
                };
                script.onerror = () => reject(`Fehler beim Laden von ${filename}`);
                document.head.appendChild(script);
            });
        }
    </script>
    
    <!-- ========================================= -->
    <!-- INITIALISIERUNG & STARTUP               -->
    <!-- ========================================= -->
    <script>
        // ğŸš€ Spiel nach DOM-Laden initialisieren
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ® Jeopardy Quiz wird geladen...');
            
            // Debug-Modus Hinweis in Console
            if (DEBUG_CONFIG.enabled) {
                console.log('%cğŸ”§ DEBUG-MODUS AKTIV ğŸ”§', 'color: #ff6b6b; font-size: 16px; font-weight: bold;');
                console.log('VerfÃ¼gbare Debug-Befehle:');
                console.log('â€¢ enableDebug() - Debug-Modus umschalten');
                console.log('â€¢ debugStats() - Statistiken anzeigen'); 
                console.log('â€¢ startPerformanceMonitoring() - Performance Ã¼berwachen');
            }
            
            // Performance-Monitor starten falls aktiviert
            if (DEBUG_CONFIG.performance && window.performanceMonitor) {
                performanceMonitor.startMonitoring();
            }
            
            console.log('âœ… Jeopardy Quiz bereit!');
        });
        
        // ğŸ“Š Unload-Event fÃ¼r Cleanup
        window.addEventListener('beforeunload', function() {
            if (window.performanceMonitor) {
                performanceMonitor.stopMonitoring();
            }
            
            if (window.debugLog) {
                debugLog.showStats();
            }
        });
    </script>
</body>
</html>